<utility-back-link-component [url]="url"></utility-back-link-component>

<form [formGroup]="form" class="row mt-3">
  <div class="col-12 mb-3">
    <utility-card-component>
      <utility-body-card-component>
        <event-services-form-component [control]="form.controls.services"></event-services-form-component>
      </utility-body-card-component>
    </utility-card-component>
  </div>
  <div class="col-6">
    <utility-card-component>
      <utility-body-card-component>
        <div class="col-12 position-relative">
          <label for="event-form-title">Title</label>
          <input
            beeoclock
            hasError
            placeholder="Write title of event"
            id="event-form-title"
            formControlName="title">
          <utility-input-error-component [control]="form.controls.title"></utility-input-error-component>
        </div>
        <div class="col-12">
          <div class="row">
            <div class="col-md-6 position-relative">
              <label for="event-form-start">Start</label>
              <input
                hasError
                id="event-form-start"
                type="text"
                class="form-control"
                mwlFlatpickr
                formControlName="start"
                altFormat="H:i d-m-Y"
                [time24hr]="true"
                [enableTime]="true"
                [altInput]="true"
                [convertModelValue]="true"
              />
              <utility-input-error-component [control]="form.controls.start"></utility-input-error-component>
            </div>
            <div class="col-md-6 position-relative">
              <label for="event-form-end">End</label>
              <input
                hasError
                id="event-form-end"
                type="text"
                class="form-control"
                mwlFlatpickr
                altFormat="H:i d-m-Y"
                formControlName="end"
                [time24hr]="true"
                [enableTime]="true"
                [altInput]="true"
                [convertModelValue]="true"
              />
              <utility-input-error-component [control]="form.controls.end"></utility-input-error-component>
            </div>
          </div>
        </div>
        <div class="col-12 position-relative">
          <label for="event-form-languages">Languages</label>
          <ng-select [items]="languageList"
                     [multiple]="true"
                     id="event-form-languages"
                     bindLabel="name"
                     bindValue="code"
                     formControlName="languageCodes">
          </ng-select>
          <utility-input-error-component [control]="form.controls.languageCodes"></utility-input-error-component>
        </div>
      </utility-body-card-component>
    </utility-card-component>
  </div>
  <div class="col-6">
    <utility-card-component>
      <utility-header-card-component>
        Additional
      </utility-header-card-component>
      <utility-body-card-component>
        <div class="col-12">
          <label for="event-form-description">Description</label>
          <textarea
            beeoclock
            hasError
            placeholder="Write some description of event"
            id="event-form-description"
            formControlName="description"></textarea>
          <utility-input-error-component [control]="form.controls.description"></utility-input-error-component>
        </div>
      </utility-body-card-component>
    </utility-card-component>
  </div>
  <div class="col-6 mt-3">
    <utility-card-component>
      <utility-header-card-component>
        Attendees
      </utility-header-card-component>
      <utility-body-card-component>
        <event-attendees-component [form]="form.controls.attendees"></event-attendees-component>
      </utility-body-card-component>
    </utility-card-component>
  </div>
  <div class="col-12 d-grid mt-3">
    <button
      beeoclock
      [disabled]="form.disabled"
      [showLoader]="form.pending"
      (click)="save()">Save
    </button>
  </div>
</form>
