<div class="h-[50px]">
	Filtry
</div>
<div #container class="bg-white grid grid-cols-[70px,repeat(7,minmax(100px,200px))] relative h-[calc(100vh-50px)] overflow-auto">

	<div #frame class="grid grid-cols-[70px,repeat(7,minmax(100px,200px))] absolute top-0 left-0 h-full w-full">

		<!-- Under header and it is like first line of the container -->
		<div class="row-start-1 col-span-8"></div>

		<!-- Calendar frame -->
		<ng-container *ngFor="let row of rows; let rowIndex = index;">
			<ng-container *ngFor="let column of columns; let columnIndex = index;">
				<div
					class="row-start-[{{ rowIndex + 2 }}] col-start-[{{ columnIndex + 1 }}] border-slate-100 dark:border-slate-200/5 border-b border-r">
				</div>
			</ng-container>
		</ng-container>

	</div>

	<!--	 Hours	-->
	<div
		*ngFor="let hour of hours; let index = index;"
		[ngStyle]="{
			'grid-row-start': index > 0 ? ((index * stepPerHour) + 2) : 2,
			'grid-row-end': index > 0 ? ((index * stepPerHour) + 2) + stepPerHour : 2 + stepPerHour,
		}"
		class="z-20 col-start-[1] border-slate-100 dark:border-slate-200/5 border-r border-b text-xs p-1.5 text-right text-slate-400 uppercase sticky left-0 bg-white dark:bg-slate-800 font-medium">
		{{hour}}:00
	</div>

	<!-- Current time line	-->
	<div
		*ngIf="currentDate.toLocaleDateString() === selectedDate.toLocaleDateString() && currentDate.getHours() >= startTimeToDisplay && currentDate.getHours() <= endTimeToDisplay"
		[ngStyle]="{
			'top': headerHeightInPx + (((currentDate.getHours() - startTimeToDisplay) + (currentDate.getMinutes() / 60)) * oneHoursInMinutes) + 'px'
		}"
		class="absolute w-full z-20 flex items-start transition-all">
		<!--	Current time	-->
		<div class="w-[70px] flex justify-end">
			<div
				class="px-2 py-1 border border-red-500 bg-white rounded-l-2xl rounded-b-2xl text-xs text-right text-red-500 uppercase font-bold">
				{{ currentDate | date: 'HH:mm' }}
			</div>
		</div>
		<!--	Line	-->
		<div class="border-t border-red-500 w-full h-1"></div>
	</div>

	<!-- Calendar header -->
	<div
		*ngFor="let column of columns; let columnIndex = index;"
		class="row-start-[1] col-start-[{{ columnIndex + 1 }}] sticky top-0 z-20 bg-white dark:bg-gradient-to-b dark:from-slate-600 dark:to-slate-700 border-slate-100 dark:border-black/10 bg-clip-padding text-slate-900 dark:text-slate-200 border-b text-sm font-medium py-2 flex justify-center items-center">
		{{ columnHeader[columnIndex] }}
	</div>

	<!-- Calendar contents -->
	<ng-container
		*ngFor="let event of events;">
		<div
			*ngFor="let card of event.cards;"
			[ngStyle]="{
				'grid-row-start': card.startTime > 0 ? ((card.startTime - startTimeToDisplay) * stepPerHour) + 2 : 2,
				'grid-row-end': (card.startTime > 0 ? (((card.startTime - startTimeToDisplay) * stepPerHour) + 2) : 2) + (card.durationInMinutes / slotInMinutes),
				'grid-column-start': card.column
			}"
			[ngClass]="{
				'transition-all': true,
				'hover:cursor-pointer hover:bg-blue-500': true
			}"
			class="z-10 bg-blue-400/20 dark:bg-sky-600/50 border border-blue-700/10 dark:border-sky-500 rounded-lg m-1 p-1 flex flex-col">
			<span class="text-xs text-blue-600 dark:text-sky-100">{{ card.startTime }}</span>
			<span class="text-xs font-medium text-blue-600 dark:text-sky-100">{{ event.title }}</span>
		</div>
	</ng-container>

</div>
