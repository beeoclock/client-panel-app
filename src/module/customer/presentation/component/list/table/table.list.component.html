<div [tableFlex]="tableConfiguration">
	<div tableRowFlex="header">
		<div tableColumnFlex="firstName">
			{{ 'keyword.capitalize.firstName' | translate }}
		</div>
		<div tableColumnFlex="lastName" data-orderBy="lastName">
			<div class="flex gap-3 items-center">
				{{ 'keyword.capitalize.lastName' | translate }}
				<utility-sort-indicator
					orderBy="lastName"
					[tableState]="tableState()"/>
			</div>
		</div>
		<div tableColumnFlex="email" data-orderBy="email">
			<div class="flex gap-3 items-center">
				{{ 'keyword.capitalize.email' | translate }}
				<utility-sort-indicator
					orderBy="email"
					[tableState]="tableState()"/>
			</div>
		</div>
		<div tableColumnFlex="phone" data-orderBy="phone">
			<div class="flex gap-3 items-center">
				{{ 'keyword.capitalize.phone' | translate }}
				<utility-sort-indicator
					orderBy="phone"
					[tableState]="tableState()"/>
			</div>
		</div>
		<div tableColumnFlex="note">
			{{ 'keyword.capitalize.note' | translate }}
		</div>
		<div tableColumnFlex="state" data-orderBy="state">
			<div class="flex gap-3 items-center">
				{{ 'keyword.capitalize.active' | translate }}
				<utility-sort-indicator
					orderBy="state"
					[tableState]="tableState()"/>
			</div>
		</div>
		<div tableColumnFlex="createdAt" data-orderBy="createdAt">
			<div class="flex gap-3 items-center">
				{{ 'keyword.capitalize.createdAt' | translate }}
				<utility-sort-indicator
					orderBy="createdAt"
					[tableState]="tableState()"/>
			</div>
		</div>
		<div tableColumnFlex="updatedAt" data-orderBy="updatedAt">
			<div class="flex gap-3 items-center">
				{{ 'keyword.capitalize.updatedAt' | translate }}
				<utility-sort-indicator
					orderBy="updatedAt"
					[tableState]="tableState()"/>
			</div>
		</div>
		<div tableColumnFlex="action" class="border-l sticky right-0">
			{{ 'keyword.capitalize.action' | translate }}
		</div>
	</div>
	<!-- Column Cell	-->
	<div tableBodyFlex>
		@for(item of tableState().items; track item._id) {
			<div tableRowFlex="body" (click)="doubleClick(item)">
				<div tableColumnFlex="firstName">
				<span class="truncate">
					{{ item.firstName | noData }}
				</span>
				</div>
				<div tableColumnFlex="lastName">
				<span class="truncate">
					{{ item.lastName | noData }}
				</span>
				</div>
				<div tableColumnFlex="email">
				<span [title]="item.email " class="truncate">
					<a href="mailto:{{ item.email }}">{{ item.email | noData }}</a>
				</span>
				</div>
				<div tableColumnFlex="phone">
				<span [title]="item.phone" class="truncate">
					{{ item.phone | noData }}
				</span>
				</div>
				<div tableColumnFlex="note">
				<span [title]="item.note" class="truncate">
					{{ item.note | noData }}
				</span>
				</div>
				<div tableColumnFlex="state">
					<div activeStyle [state]="item.state">
					</div>
				</div>
				<div tableColumnFlex="createdAt">
				<span [title]="item.createdAt | date: 'full'" class="truncate">
					{{ item.createdAt | date: 'short' }}
				</span>
				</div>
				<div tableColumnFlex="updatedAt">
				<span [title]="item.updatedAt | date: 'full'" class="truncate">
					{{ item.updatedAt | date: 'short' }}
				</span>
				</div>
				<div tableColumnFlex="action" class="border-l sticky right-0">
					<customer-row-action-button-component
						[item]="item"
						[id]="item._id"/>
				</div>
			</div>
		}
	</div>
</div>
<utility-table-state-pagination-component
	(page)="pageChange($event)"
	[tableState]="tableState()"/>
