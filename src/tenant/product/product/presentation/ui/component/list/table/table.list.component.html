<app-table-ngx-datatable-smart-component
	(activate)="activate($event)"
	[columnList]="columnList()"
	[actionColumn]="{
				name: '',
				cellTemplate: actionCellTemplate,
				sortable: false,
				frozenRight: true,
				minWidth: 56,
				width: 56
			}">

	<not-found-table-data-component
		class="block h-full"
		(clickListener)="openForm()"
		[showLinkToForm]="true"
		[linkLabel]="'product.button.create' | translate"
		[label]="'keyword.capitalize.dataNotFound' | translate">

		<product-auto-refresh-component [resetPage]="true" [resetParams]="true"/>

	</not-found-table-data-component>

</app-table-ngx-datatable-smart-component>
<ng-template #actionCellTemplate let-row="row">
	<product-row-action-button-component
		[item]="row"
		[id]="row._id"/>
</ng-template>
<ng-template #stateCellTemplate let-row="row">
	<div activeStyle [state]="row.state">
	</div>
</ng-template>
<ng-template #imagesCellTemplate let-row="row">

	<div class="flex gap-1 items-center">
		@if (row.images?.length) {
			@let image = row.images?.[0];
			<img [src]="image.url" alt="" class="rounded-lg size-10">
			@if (row.images.length > 1) {
				<div class="rounded-lg bg-neutral-200 text-neutral-500 flex items-center justify-center size-10">
					+{{ row.images.length - 1 }}
				</div>
			}
		} @else {
			<no-available/>
		}
	</div>

</ng-template>
